(()=>{const e=document.querySelector(".weather-card"),t=document.querySelector(".location"),n=document.querySelector(".weather-icon"),r=document.querySelector(".weather-description"),c=document.getElementById("current-temp"),m=document.getElementById("max-num"),i=document.getElementById("min-num"),u=document.getElementById("humidity"),o=document.getElementById("rise-num"),a=document.getElementById("set-num"),d=document.getElementById("confirm-search"),s=document.getElementById("loading-icon"),l=document.getElementById("unit-switcher");let y,p="imperial";function h(){s.classList.remove("show")}function g(e){const t=new Date(0);return t.setUTCSeconds(e),t.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}function E(e){return.5556*(e-32)}function x(e){t.textContent=e.currentLocation,r.textContent=e.currentSky,u.textContent=`${e.currentHumidity}%`,o.textContent=e.currentSunrise,a.textContent=e.currentSunset,n.innerHTML=`<img src="./images/icons/${e.currentIcon}.png" />`,"imperial"===p?(c.textContent=`${e.currentTemp}°`,m.textContent=`${e.currentMaxTemp}°`,i.textContent=`${e.currentMinTemp}°`):(c.textContent=`${e.currentTempCel}°`,m.textContent=`${e.currentMaxTempCel}°`,i.textContent=`${e.currentMinTempCel}°`)}function C(t){(async function(t){try{s.classList.add("show");const r=await fetch(t,{mode:"cors"}),c={currentLocation:(n=await r.json()).name,currentTemp:Math.trunc(n.main.temp),currentTempCel:Math.trunc(E(n.main.temp)),currentMinTemp:Math.trunc(n.main.temp_min),currentMinTempCel:Math.trunc(E(n.main.temp_min)),currentMaxTemp:Math.trunc(n.main.temp_max),currentMaxTempCel:Math.trunc(E(n.main.temp_max)),currentHumidity:Math.trunc(n.main.humidity),currentSky:n.weather[0].description,currentSunrise:g(n.sys.sunrise),currentSunset:g(n.sys.sunset),currentIcon:n.weather[0].icon};y=c,x(c),h(),e.style.display="flex",document.getElementById("city-error").style.visibility="hidden"}catch(e){h(),document.getElementById("city-error").style.visibility="visible"}var n})(`https://api.openweathermap.org/data/2.5/weather?q=${t}&appid=c2465f0304172a924dec96df78fca3f6&units=imperial`),document.getElementById("search").value=""}d.addEventListener("click",(()=>{C(document.getElementById("search").value)})),document.getElementById("search").addEventListener("keyup",(e=>{"Enter"===e.key&&(C(document.getElementById("search").value),document.getElementById("search").blur())})),l.addEventListener("change",(()=>{l.checked?(p="metric",x(y)):(p="imperial",x(y))}))})();